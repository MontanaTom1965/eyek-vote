<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<title>EYEK • Board</title>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<style>
  :root{--bg:#0b0f1a;--txt:#eaf2ff;--muted:#a9b6d9}
  *{box-sizing:border-box} body{margin:0;background:var(--bg);color:var(--txt);font:600 18px/1.3 Inter,system-ui}
  .wrap{min-height:100svh;display:grid;place-items:center;padding:24px}
  .card{width:min(900px,94vw);border:1px solid #243459;border-radius:16px;padding:20px;background:linear-gradient(180deg,#12192a,#0f1526)}
  h1{margin:0 0 12px}
  table{width:100%;border-collapse:collapse}
  th,td{padding:10px;border-bottom:1px solid #243459;text-align:left}
  th{color:var(--muted);font-weight:600}
</style>
</head>
<body>
<div class="wrap">
  <div class="card">
    <h1>Results</h1>
    <table>
      <thead><tr><th>Singer</th><th>Result</th></tr></thead>
      <tbody id="rows"></tbody>
    </table>
  </div>
</div>
<script>
const GET_URL='/assets/get_state.php';
const rows=document.getElementById('rows');
async function tick(){
  const r=await fetch(GET_URL,{cache:'no-store'}); const st=await r.json();
  rows.innerHTML="";
  const cur = st.current?.name || "—";
  const last = st.voting?.lastResult;
  if (cur && last){
    const tr=document.createElement('tr');
    tr.innerHTML=`<td>${cur}</td><td>${last==='encore'?'Encore!': last==='another'?'Another Shot!':'Maybe Next Time'}</td>`;
    rows.appendChild(tr);
  }
}
setInterval(tick, 1500); tick();
</script>
</body>
</html>
